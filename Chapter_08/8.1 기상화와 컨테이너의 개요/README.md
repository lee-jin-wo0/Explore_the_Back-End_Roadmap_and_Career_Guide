# 8.1 가상화와 컨테이너의 개요

## 8.1.1 가상화의 개념

**가상화(Virtualization)** : 하나의 물리적인 서버를 여러 개의 가상 서버로 분할해 사용하는 기술.

가상화 기술은 기업의 서버 활용도를 높여주고 개인 사용자에게는 안정적인 개발 환경을 제공.

<br />

## 8.1.2 가상화의 종류

가상화는 **개발 환경 가상화**, **머신 가상화**, **운영체제 수준 가상화**로 나뉨.

각 기술은 서버의 용도, 성능, 유연성, 관리 및 보안 측면에 차이가 있음.

<br />

:black_circle: 개발 환경 가상화

개발자가 웹 애플리케이션을 개발할 때 필요한 환경을 가상으로 구축하게 하는 기술.

한 컴퓨터에서 여러 웹 애플리케이션을 개발하더라도 각각의 개발 환경을 구성할 수 있음.

개발 환경마다 관련 라이브러리나 패키지를 독립적으로 관리해 일관된 개발 환경을 유지.

대표적인 예로 파이썬 개발을 위한 가상 환경 관리자인 아나콘다(Anaconda)가 있음.

<br />

:black_circle: 머신 가상화

**가상 머신(VM, Virtual Machine)**으로 하나의 서버에서 여러  운영체제를 실행할 수 있게 하는 기술.

웹 애플리케이션마다 다른 운영체제를 사용해야 하는 경우나 특정 웹 애플리케이션을 특정 운영체제에서만 실행할 수 있는 경우에 유용.

대표적인 가상 머신 소프트웨어로 버추얼박스(VirtualBox), VMware, 시트릭스(Citrix), WSL(Windows Subsystem for Linux) 등이 있음.

<br />

:black_circle: 운영체제 수준 가상화

호스트 운영체제(실제 하드웨어 본체에 설치한 운영체제) 위에 격리된 컨테이너를 여러개 만들어 각각의 컨테이너 안에서 웹애플리케이션을 실행하는 기술.

하나의 운영체제상에서 격리된 컨테이너를 여러 개 생성하고 각각의 컨테이너에서 웹 애플리케이션을 실행하기 때문에 다른 웹 애플리케이션과 충돌하는 것을 방지.

컨테이너 기술을 활용한 대표적인 서비스에는 도커, 쿠버네티스 등이 있음.

<br />

## 8.1.3 컨테이너의 개념

 **컨테이너(Container)** : 가상화 기술 중 하나로, 격리된 여러 개의 실행 환경을 제공하는 기술.

운영체제 수준 가상화를 기반으로 하며, 웹 애플리케이션을 실행하는데 필요한 라이브러리, 실행 파일, 구성 파일 등이 포함된 패키지로 이뤄짐.

<br />

### 가상 머신과 컨테이너

가상 머신과 컨테이너는 가상화 기술을 사용해 여러 개의 실행 환경을 구성하게 해주지만 둘 사이에 중요한 차이점이 있음.

<br />

:black_circle: 가상 머신

하이퍼바이저(Hypervisor)라는 소프트웨어 계층을 사용해 호스트 운영체제 위에 게스트 운영체제를 설치하고 실행하는 방식.

각 가상 머신은 자체적인 게스트 운영체제와 웹 애플리케이션을 가지며, 본 시스템으로부터 물리적인 하드웨어 자원(CPU, 메모리, 스토리지 등)을 할당받아 사용.

<br />

:black_circle: 컨테이너

컨테이너는 호스트 운영체제 위에서 동작.

운영체제 수준 가상화 기술을 사용해 호스트 운영체제 위에 격리된 실행 환경을 만듬.

격리된 실행 환경을 컨테이너라고 하며, 각 컨테이너는 독립된 파일 시스템, 네트워크 인터페이스, 프로세스 등을 기반으로 동작.

컨테이너에는 자체적인 게스트 운영체제가 없고 호스트 운영체제의 자원을 공유받아 실행하므로 웹 애플리케이션을 더 빠르게 실행하고, 본 시스템의 물리적인 자원을 더 효율적으로 활용.

<br />

가상 머신 : 웹 애플리케이션A (게스트 운영체제), 웹 애플리케이션B (게스트 운영체제) :arrow_forward: 하이퍼바이저 :arrow_forward: 호스트 운영체제 :arrow_forward: 서버

컨테이너 : 웹 애플리케이션A (컨테이너), 웹 애플리케이션B (컨테이너) :arrow_forward: 도커(컨테이너 플랫폼) :arrow_forward: 호스트 운영체제 :arrow_forward: 서버 

<br />

:spiral_notepad: 가상머신과 컨테이너의 장단점.

:small_blue_diamond: 가상 머신은 각각의 게스트 운영체제와 해당 운영체제 위에서 동작하는 소프트웨어 스택(운영체제 관련 소프트웨어)을 복제해야 하기 때문에 컴퓨팅 자원(메모리, 디스크 등)을 더 많이 사용. 반면에 컨테이너는 여러 개의 웹 애플리케이션이 호스트 운영체제 하나를 공유하기 때문에 가상 머신보다 컴퓨팅 자원을 덜 사용.

:small_blue_diamond: 가상 머신은 각각의 운영체제와 소프트웨어 스택을 복제해야 하기 때문에 시작 시간(웹 애플리케이션을 구동하기까지 걸리는 시간)이 느림. 반면에 컨테이너는 시작 시간이 빠름.

:small_blue_diamond: 가상 머신은 더 많은 컴퓨팅 자원을 필요로 하므로 가볍지 않고, 이식성이 낮으며, 배포와 관리가 어려움. 반면에 컨테이너는 가볍고, 이식성이 뛰어나며, 배포와 관리가 용이.

<br />

### 컨테이너를 사용하는 이유

컨테이너는 여러 개의 서버가 필요한 상황에서 각 서버를 독립적으로 운영하는 효과를 내기 위해 사용.

<br />

:spiral_notepad: 컨테이너를 사용할 때의 장점. 

:small_blue_diamond: 하나의 서버로 다양한 용도와 환경, 기능을 충족해야 할 때 여러 개의 컨테이너로 나눠 구현할 수 있음.

:small_blue_diamond: 각 서버가 컨테이너 별로 관리되므로 소프트웨어나 라이브러리를 설치할 때 의존성을 고려하지 않아도 되고, 컨테이너 별로 소프트웨어를 간단히 설치 가능.

:small_blue_diamond: 서버를 이전하거나 서버에  여러 소프트웨어를 다시 설치해야 할 때 컨테이너 이미지를 받아 간편하게 이전 및 서치 가능.

<br />

컨테이너 이미지 : 컨테이너 실행에 필요한 모든 것이 포함된 패키지.