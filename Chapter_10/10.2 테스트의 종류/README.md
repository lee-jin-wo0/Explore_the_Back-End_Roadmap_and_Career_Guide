# 10.2 테스트의 종류

테스트는 테스트를 하는 대상 개체에 따라 단위 테스트, 통합 테스트, 시스템 테스트로 구분됨.

V 모델은 요구 사항 분석부터 구현까지 소프트웨어 개발의 전체 생명 주기를 나타내는 모델.

V 모델에서 테스트는 테스트를 하는 대상 개체에 따라 단위 테스트, 통합 테스트, 시스템 테스트로 나뉨.

V모델에서 마지막의 인수 테스트는 최종적으로 개발을 완료한 웹 애플리케이션이 사용자 관점에서 잘 동작하는지 평가하는 것으로, 대상 개체의 단위에 따른 테스트 분류에서는 제외됨.

<br />

## 10.2.1 단위 테스트

**단위 테스트(Unit Testing)**는 소스 코드를 구성하는 가장 작은 단위의 개체를 테스트하는 것. 즉 개별함수, 클래스, 메서드 등을 테스트하고 각 개체가 정상적으로 동작하는지 확인함.

단위 테스트를 하면 웹 애플리케이션을 구성하는 개별 개체가 정상적으로 동작한다는 것을 확인할 수 있어 버그를 추적하기가 쉬움. 여러 기능이 결합된 복잡한 흐름을 역추적하는 과정을 최대한 단순화할 수 있음.

단위 테스트는 기존 기능을 수정하거나 새 기능을 추가한 후 단위 테스트를 돌려보기 때문에, 기존 기능이 테스트를 통과한다면 기존 기능에 영향을 주지 않았다는 것을 확인할 수 있어 코드를 수정하거나 추가할 때도 도움이 됨.

개발 기능을 구현할 때 테스트하기 용이한 방식으로 코드를 작성하도록 유도함. 즉 각각의 기능을 최대한 개별적으로 동작하는 코드로 작성하게 됨. 기능을 구성하는 코드 상호 간의 결합도와 의존성을 낮추는 효과가 있어 전반적인 코드의 품질이 향상됨.

``` javascript
// add()를 이용한 예시 테스트 코드
function add(a, b){
    return a + b;				// add 함수가 포함된 파일 가져오기
}

import add from './add'

test ('adds 1 + 2 to equal 3', () =>{
    expect(add(1,2)).toBe(3);	// 테스트 코드 부분
})

// 만약 add() 함수에 문제가 있어 1과 2를 더했을 때 3이 아닌 다른 값이 반환된다면 테스틀 통과하지 못함.
```

<br />

## 10.2.2 통합 테스트

**통합 테스트(Integration Testing)**는 모듈 간의 상호작용을 테스트하는 것.

단위 테스트가 개별 코드를 테스트하는 것이라면, 통합 테스트는 개별 코드를 결합한 기능이 잘 동작하는지 확인하는 것.

통합 테스트의 대표적인 예로 백엔드 프로젝트 패키지와 해당 패키지에서 사용하는 데이터베이스 간 연동이 잘 이뤄지는지 테스트하는 것과 백엔드 프로젝트에서 작성한 API가 잘 작동하는지 테스트하는 것이 있음.

```react
// 백엔드 서비스에서 REST API 엔드포인트의 통합 테스트
const express = require('express');
const app = express();
let users = [
    {id : 1, name : 'John Doe'},
    {id : 2, name : 'Jane Doe'}
];
app.get('/users', (req,res) => {
    res.json(users);
});
module.exports = app;


const request = require('supertest');
const app = require('./server');
describe('GET /users', () => {
    it('should return a list of users', async () => {
        const res = await request(app).get('/users');
        expect(res.statusCode).toEqual(200);
        expect(res.body).toHaveProoperty('users');
        expect(res.body.users).toHaveLength(2);
    });
});

// 이 테스트 코드는 /users 엔드포인트에 GET(데이터 조회) 요청을 보내고 응답으로 오는 상태 코드가 200(성공 응답)인지, 응답 본문에 users 속성이 있는지, users 배열의 길이가 2인지 확인.
```

<br />

## 10.2.3 시스템 테스트

**시스템 테스트(System Testing)**는 통합 테스트 이후에 진행하는 텍스트.

개발한 웹 애플리케이션이 사용자의 요구 사항을 충족하는지 확인할 뿐만 아니라 전체적인 성능, 안정성, 보안 등의 측면도 테스트.

시스템 테스트는 실제 사용자가 직접 사용하는 것처럼 테스트를 진행하기 때문에 사용자 입장에서 해당 기능이 제대로 동작하고 요구 사항에 부합하는지 확인할 수 있음.

시스템 테스트는 전체 웹 애플리케이션이 사용자의 요구 사항을 충족하는지, 여러 환경에서도 원활하게 동작하는지 확인.

이러한 과정을 통해 최종적으로 상용 단계로 넘어가기 전에 발생할지도 모를 예외나 문제 상황을 최대한 확인하고 예방할 수 있음.
